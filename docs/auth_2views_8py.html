<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IntellectEnglish: apps/auth/views.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">IntellectEnglish<span id="projectnumber">&#160;1.0 beta 3 build 455(rev.6)</span>
   </div>
   <div id="projectbrief">The English Reading Platform is a comprehensive web application designed to help users improve their English language skills</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9654b8d08f4bba4e84b362c5fd320bee.html">apps</a></li><li class="navelem"><a class="el" href="dir_b97624f0e10dd87db280b29e2afa6a04.html">auth</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">views.py File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Blueprint for user readers' authentication.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a226984d2b5b29a07da4b03058ed73792"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_2views_8py.html#a226984d2b5b29a07da4b03058ed73792">views.load_user</a> (user_id)</td></tr>
<tr class="memdesc:a226984d2b5b29a07da4b03058ed73792"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load a user from the SQL database based on their unique user_id.  <br /></td></tr>
<tr class="separator:a226984d2b5b29a07da4b03058ed73792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8ea356781a0dbba8b3b7c974c96a398"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_2views_8py.html#ae8ea356781a0dbba8b3b7c974c96a398">views.user_email_exist</a> (email)</td></tr>
<tr class="memdesc:ae8ea356781a0dbba8b3b7c974c96a398"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the email entered by the user already exists in the database.  <br /></td></tr>
<tr class="separator:ae8ea356781a0dbba8b3b7c974c96a398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62e025e926577d8b28e9d0d242c80be7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_2views_8py.html#a62e025e926577d8b28e9d0d242c80be7">views.register</a> ()</td></tr>
<tr class="memdesc:a62e025e926577d8b28e9d0d242c80be7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Route for registering new users.  <br /></td></tr>
<tr class="separator:a62e025e926577d8b28e9d0d242c80be7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a896c2e5a8154ac897bdfd907d8c47f70"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_2views_8py.html#a896c2e5a8154ac897bdfd907d8c47f70">views.confirmation_of_token</a> (token)</td></tr>
<tr class="memdesc:a896c2e5a8154ac897bdfd907d8c47f70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Route for confirming the account based on the received email.  <br /></td></tr>
<tr class="separator:a896c2e5a8154ac897bdfd907d8c47f70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b342db3570057569fbe97618676048b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_2views_8py.html#a8b342db3570057569fbe97618676048b">views.resend_email</a> ()</td></tr>
<tr class="memdesc:a8b342db3570057569fbe97618676048b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Route for resending the confirmation email in case the account confirmation link has expired or is invalid.  <br /></td></tr>
<tr class="separator:a8b342db3570057569fbe97618676048b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bd03149ba32a3c859b7dca8b049b717"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_2views_8py.html#a0bd03149ba32a3c859b7dca8b049b717">views.login</a> ()</td></tr>
<tr class="memdesc:a0bd03149ba32a3c859b7dca8b049b717"><td class="mdescLeft">&#160;</td><td class="mdescRight">Route for user readers' login.  <br /></td></tr>
<tr class="separator:a0bd03149ba32a3c859b7dca8b049b717"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4366a9704882fdffe73b2d16d0633ff3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_2views_8py.html#a4366a9704882fdffe73b2d16d0633ff3">views.dashboard</a> ()</td></tr>
<tr class="memdesc:a4366a9704882fdffe73b2d16d0633ff3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Route to the reader's dashboard for viewing their profile.  <br /></td></tr>
<tr class="separator:a4366a9704882fdffe73b2d16d0633ff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a904658d3c568009ba0d038fcf9c70bcb"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_2views_8py.html#a904658d3c568009ba0d038fcf9c70bcb">views.logout</a> ()</td></tr>
<tr class="memdesc:a904658d3c568009ba0d038fcf9c70bcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Route for user logout.  <br /></td></tr>
<tr class="separator:a904658d3c568009ba0d038fcf9c70bcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab731f46cd90a09e6dd5af1e1def16a76"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_2views_8py.html#ab731f46cd90a09e6dd5af1e1def16a76">views.forget_password</a> ()</td></tr>
<tr class="memdesc:ab731f46cd90a09e6dd5af1e1def16a76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Route for handling forgotten passwords.  <br /></td></tr>
<tr class="separator:ab731f46cd90a09e6dd5af1e1def16a76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f061c9e872b45f328a9263bdab79714"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_2views_8py.html#a8f061c9e872b45f328a9263bdab79714">views.reset_password</a> (token)</td></tr>
<tr class="memdesc:a8f061c9e872b45f328a9263bdab79714"><td class="mdescLeft">&#160;</td><td class="mdescRight">Route for resetting forgotten passwords for readers.  <br /></td></tr>
<tr class="separator:a8f061c9e872b45f328a9263bdab79714"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea1a7af4f5bf75793df9b2ff59f4fe99"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_2views_8py.html#aea1a7af4f5bf75793df9b2ff59f4fe99">views.set_username</a> ()</td></tr>
<tr class="memdesc:aea1a7af4f5bf75793df9b2ff59f4fe99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Route for setting a new username for the current user.  <br /></td></tr>
<tr class="separator:aea1a7af4f5bf75793df9b2ff59f4fe99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7addfb29d080a96a3d9791589d31e82"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_2views_8py.html#af7addfb29d080a96a3d9791589d31e82">views.set_email</a> ()</td></tr>
<tr class="memdesc:af7addfb29d080a96a3d9791589d31e82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Route for changing the email of readers.  <br /></td></tr>
<tr class="separator:af7addfb29d080a96a3d9791589d31e82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedb6afb54f98779b1e62d58a6ec577f3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_2views_8py.html#aedb6afb54f98779b1e62d58a6ec577f3">views.set_password</a> ()</td></tr>
<tr class="memdesc:aedb6afb54f98779b1e62d58a6ec577f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Route for changing passwords for readers.  <br /></td></tr>
<tr class="separator:aedb6afb54f98779b1e62d58a6ec577f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c8b00d00009fd9cebe679907bf7f7aa"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_2views_8py.html#a9c8b00d00009fd9cebe679907bf7f7aa">views.delete_account</a> ()</td></tr>
<tr class="memdesc:a9c8b00d00009fd9cebe679907bf7f7aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Route for deleting a reader's account.  <br /></td></tr>
<tr class="separator:a9c8b00d00009fd9cebe679907bf7f7aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a96a9a6632118e4c85dde8d9fef15f22d"><td class="memItemLeft" align="right" valign="top">Blueprint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_2views_8py.html#a96a9a6632118e4c85dde8d9fef15f22d">views.auth</a> = Blueprint('auth', __name__, url_prefix='/auth')</td></tr>
<tr class="memdesc:a96a9a6632118e4c85dde8d9fef15f22d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blueprint for user readers' authentication.  <br /></td></tr>
<tr class="separator:a96a9a6632118e4c85dde8d9fef15f22d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b498710d969bafb1f3dc2414cf6210d"><td class="memItemLeft" align="right" valign="top"><a id="a1b498710d969bafb1f3dc2414cf6210d" name="a1b498710d969bafb1f3dc2414cf6210d"></a>
Bcrypt&#160;</td><td class="memItemRight" valign="bottom"><b>views.bcrypt</b> = Bcrypt()</td></tr>
<tr class="memdesc:a1b498710d969bafb1f3dc2414cf6210d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an instance of the Bcrypt class from flask_bcrypt for password hashing. <br /></td></tr>
<tr class="separator:a1b498710d969bafb1f3dc2414cf6210d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Blueprint for user readers' authentication. </p>
<p>Contains routes and functions related to user authentication. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a896c2e5a8154ac897bdfd907d8c47f70" name="a896c2e5a8154ac897bdfd907d8c47f70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a896c2e5a8154ac897bdfd907d8c47f70">&#9670;&#160;</a></span>confirmation_of_token()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def views.confirmation_of_token </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Route for confirming the account based on the received email. </p>
<p>This route is used to confirm the user's account based on the token contained in the confirmation email sent to the user. The function uses the 'confirm_token' function imported from './email.py' to verify if the link is valid. If the link is valid, the 'confirmed' attribute of the user is set to 1 (True). A JSON object is returned to notify whether the confirmation process was successful or not.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">token</td><td>Token contained in the confirmation email sent to the user.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: A JSON object to notify if the confirmation process was successful or not. </dd></dl>

</div>
</div>
<a id="a4366a9704882fdffe73b2d16d0633ff3" name="a4366a9704882fdffe73b2d16d0633ff3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4366a9704882fdffe73b2d16d0633ff3">&#9670;&#160;</a></span>dashboard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def views.dashboard </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Route to the reader's dashboard for viewing their profile. </p>
<p>This route is used to display the reader's dashboard and their profile information. The route accepts a GET request and requires the user to be logged in. The user's dashboard contains details such as their username and email. It also fetches information about the formations that the user is following, including those that have already taken place (formation_follow), and those that are scheduled for the future (comming_formation). The information is then formatted into a JSON object and returned as a response.</p>
<dl class="section return"><dt>Returns</dt><dd>: A JSON object containing the username, email, and information about the formations the user is following (formation_follow) and the upcoming formations (comming_formation). </dd></dl>

</div>
</div>
<a id="a9c8b00d00009fd9cebe679907bf7f7aa" name="a9c8b00d00009fd9cebe679907bf7f7aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c8b00d00009fd9cebe679907bf7f7aa">&#9670;&#160;</a></span>delete_account()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def views.delete_account </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Route for deleting a reader's account. </p>
<p>This route allows readers to delete their own accounts. The function accepts a POST request with JSON data containing the user's email and password to confirm their identity. The function checks if the provided email and password match the current user's email and password using the 'current_user.email' and 'bcrypt.check_password_hash' functions. If the email and password are valid and match the current user's email and password, the function deletes the user's account from the database using the 'db.session.delete' function and commits the changes using the 'db.session.commit' function. A success message is returned to the user indicating that their account has been successfully deleted. If the email and password are invalid or do not match the current user's email and password, an error message is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">email</td><td>The email of the current user. </td></tr>
    <tr><td class="paramname">password</td><td>The password of the current user to confirm their identity.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: A JSON object containing information about the result of the request to delete the account. </dd></dl>

</div>
</div>
<a id="ab731f46cd90a09e6dd5af1e1def16a76" name="ab731f46cd90a09e6dd5af1e1def16a76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab731f46cd90a09e6dd5af1e1def16a76">&#9670;&#160;</a></span>forget_password()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def views.forget_password </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Route for handling forgotten passwords. </p>
<p>This route is used for handling forgotten passwords. The function accepts a POST request with JSON data containing the user's email. The function checks if the provided email exists in the database using the 'user_email_exist' function. If an account with the provided email exists, a confirmation token is generated for the user. A password reset link is created using the confirmation token and sent to the user's email. If the email exists and the password reset link is sent successfully, a JSON object with a success message is returned. If no account is found with the provided email, a JSON object with an error message is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">email</td><td>The email for receiving the password reset link.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: A JSON object containing information about the result of the password reset request. </dd></dl>

</div>
</div>
<a id="a226984d2b5b29a07da4b03058ed73792" name="a226984d2b5b29a07da4b03058ed73792"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a226984d2b5b29a07da4b03058ed73792">&#9670;&#160;</a></span>load_user()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def views.load_user </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>user_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load a user from the SQL database based on their unique user_id. </p>
<p>User loader function for the login manager.</p>
<p>This function is used by the login manager to load a user from the SQL database based on their unique user_id. The function accepts a user_id as a parameter and retrieves the corresponding user from the database using the User.query.get() method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user_id</td><td>The unique identifier of the user. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: The user object corresponding to the provided user_id, or None if the user with the specified ID is not found.</dd></dl>
<p>This function is used by the login manager to load a user from the database based on the provided <code>user_id</code>. The function queries the <code>User</code> model to retrieve the user with the specified <code>user_id</code> using <code>User.query.get(int(user_id))</code>. The loaded user will be used for authentication and authorization purposes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user_id</td><td>The unique identifier of the user. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: The user object corresponding to the provided <code>user_id</code>. </dd></dl>

</div>
</div>
<a id="a0bd03149ba32a3c859b7dca8b049b717" name="a0bd03149ba32a3c859b7dca8b049b717"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bd03149ba32a3c859b7dca8b049b717">&#9670;&#160;</a></span>login()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def views.login </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Route for user readers' login. </p>
<p>This route is used for user readers' login. The function accepts a POST request with JSON data containing the user's email and password. The function verifies if the provided email and password match the information in the database. If the email and password are correct, and the user's account is confirmed, the user is logged in successfully. A JSON object is returned to notify whether the login process was successful or not, along with the user's 'is_admin' status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">email</td><td>The email entered by the user for login. </td></tr>
    <tr><td class="paramname">password</td><td>The password entered by the user for login.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: A JSON object to notify if the login process was successful or not, along with the user's 'is_admin' status. </dd></dl>

</div>
</div>
<a id="a904658d3c568009ba0d038fcf9c70bcb" name="a904658d3c568009ba0d038fcf9c70bcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a904658d3c568009ba0d038fcf9c70bcb">&#9670;&#160;</a></span>logout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def views.logout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Route for user logout. </p>
<p>This route is used for user logout. The route is protected, meaning that only a logged-in user can access this route. The function logs out the current user using the 'logout_user()' function provided by Flask-Login. A JSON object is returned to notify that the user has been successfully logged out.</p>
<dl class="section return"><dt>Returns</dt><dd>: A JSON object to notify that the user has been successfully logged out. </dd></dl>

</div>
</div>
<a id="a62e025e926577d8b28e9d0d242c80be7" name="a62e025e926577d8b28e9d0d242c80be7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62e025e926577d8b28e9d0d242c80be7">&#9670;&#160;</a></span>register()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def views.register </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Route for registering new users. </p>
<p>This route is used for registering new users in the system. The function accepts a POST request with JSON data containing the user's username, email, and password. The password is encrypted using the Bcrypt object before being stored in the database. The new user is then added to the database. A confirmation token is generated for the user, encapsulating their email, and an email with a confirmation link is sent to the user. If the registration process is successful, a JSON object with information about the registration status and the user's details is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">username</td><td>The username of the new user. </td></tr>
    <tr><td class="paramname">email</td><td>The email of the new user. </td></tr>
    <tr><td class="paramname">password</td><td>The password of the new user.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: A JSON object containing information about the registration status and the user's details. </dd></dl>

</div>
</div>
<a id="a8b342db3570057569fbe97618676048b" name="a8b342db3570057569fbe97618676048b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b342db3570057569fbe97618676048b">&#9670;&#160;</a></span>resend_email()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def views.resend_email </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Route for resending the confirmation email in case the account confirmation link has expired or is invalid. </p>
<p>This route is used to resend the confirmation email to the user if the account confirmation link has expired or is invalid. The function accepts a POST request with JSON data containing the user's email for resending the confirmation link. If the provided email exists in the database, a new confirmation token is generated for the user. A confirmation link is created using the new token and sent to the user's email. If the email exists and the confirmation link is sent successfully, a JSON object with a success message is returned. If the email does not exist or the user is not yet registered, a JSON object with an error message is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">email</td><td>The email for resending the confirmation link.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: A JSON object containing information about the result of the email resend process. </dd></dl>

</div>
</div>
<a id="a8f061c9e872b45f328a9263bdab79714" name="a8f061c9e872b45f328a9263bdab79714"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f061c9e872b45f328a9263bdab79714">&#9670;&#160;</a></span>reset_password()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def views.reset_password </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Route for resetting forgotten passwords for readers. </p>
<p>This route is used for resetting forgotten passwords for readers. The function accepts a POST request with JSON data containing the new password. The function takes a 'token' as a parameter, which is used to verify if the password reset link is valid and not expired. The 'confirm_token' function checks if the token is valid and returns True if it is, and False otherwise. If the token is invalid or expired, a JSON object with an error message is returned. If the token is valid and the request method is POST, the function generates a new password hash using the 'bcrypt' library. The password hash is updated in the database for the user associated with the email provided in the token. A success message is returned to the user indicating that the password has been successfully changed, and the user can now log in with the new password.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">token</td><td>The token contained in the password reset link received by the user's email. </td></tr>
    <tr><td class="paramname">new_password</td><td>The new password entered by the user for resetting the forgotten password.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: A JSON object containing information about the result of the password reset request. </dd></dl>

</div>
</div>
<a id="af7addfb29d080a96a3d9791589d31e82" name="af7addfb29d080a96a3d9791589d31e82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7addfb29d080a96a3d9791589d31e82">&#9670;&#160;</a></span>set_email()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def views.set_email </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Route for changing the email of readers. </p>
<p>This route is used for changing the email of readers. The function accepts a POST request with JSON data containing the user's old email, password, and the new email. The function checks if the provided old email and password match a user in the database using the 'User.query.filter_by' function and the 'bcrypt.check_password_hash' function. If the old email and password are valid, the function updates the email for the user in the database and sets the 'confirmed' attribute to False to indicate that the email needs to be confirmed again. A new confirmation token is generated for the new email, and a confirmation email is sent to the new email address using the 'generate_confirmed_token' function and the 'mail.send' function. A success message is returned to the user indicating that the email has been successfully changed, and a confirmation email has been sent to the new email address. If the old email and password are invalid or do not match a user in the database, an error message is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">old_email</td><td>The old email of the current user. </td></tr>
    <tr><td class="paramname">password</td><td>The password of the current user to confirm their identity. </td></tr>
    <tr><td class="paramname">new_email</td><td>The new email to be set for the current user. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aedb6afb54f98779b1e62d58a6ec577f3" name="aedb6afb54f98779b1e62d58a6ec577f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedb6afb54f98779b1e62d58a6ec577f3">&#9670;&#160;</a></span>set_password()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def views.set_password </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Route for changing passwords for readers. </p>
<p>This route is used for changing passwords for readers. The function accepts a POST request with JSON data containing the user's email, old password, and the new password. The function checks if the provided email and old password match a user in the database using the 'User.query.filter_by' function and the 'bcrypt.check_password_hash' function. If the email and old password are valid, the function generates a new password hash for the new password using the 'bcrypt.generate_password_hash' function and updates the password hash for the user in the database. A success message is returned to the user indicating that the password has been successfully changed. If the email and old password are invalid or do not match a user in the database, an error message is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">email</td><td>The email of the current user. </td></tr>
    <tr><td class="paramname">old_password</td><td>The old password of the current user to confirm their identity. </td></tr>
    <tr><td class="paramname">new_password</td><td>The new password to be set for the current user.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: A JSON object containing information about the result of the request to change the password. </dd></dl>

</div>
</div>
<a id="aea1a7af4f5bf75793df9b2ff59f4fe99" name="aea1a7af4f5bf75793df9b2ff59f4fe99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea1a7af4f5bf75793df9b2ff59f4fe99">&#9670;&#160;</a></span>set_username()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def views.set_username </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Route for setting a new username for the current user. </p>
<p>This route is used for setting a new username for the current user. The function accepts a POST request with JSON data containing the user's email, password, and the new username. The function checks if the provided email and password match a user in the database using the 'User.query.filter_by' function and the 'bcrypt.check_password_hash' function. If the email and password are valid, the function updates the username for the user in the database using the 'db.session.commit()' function. A success message is returned to the user indicating that the username has been successfully changed. If the email and password are invalid or do not match a user in the database, an error message is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">email</td><td>The email of the current user. </td></tr>
    <tr><td class="paramname">password</td><td>The password of the current user. </td></tr>
    <tr><td class="paramname">new_username</td><td>The new username to be set for the current user.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: A JSON object containing information about the result of the request to set the new username. </dd></dl>

</div>
</div>
<a id="ae8ea356781a0dbba8b3b7c974c96a398" name="ae8ea356781a0dbba8b3b7c974c96a398"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8ea356781a0dbba8b3b7c974c96a398">&#9670;&#160;</a></span>user_email_exist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def views.user_email_exist </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>email</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the email entered by the user already exists in the database. </p>
<p>This function verifies if the email entered by the user already exists in the database. The function accepts an email as a parameter and checks if there is a user with the same email using the User.query.filter_by() method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">email</td><td>The email entered by the user. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: True if the email exists in the database, and False otherwise. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a96a9a6632118e4c85dde8d9fef15f22d" name="a96a9a6632118e4c85dde8d9fef15f22d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96a9a6632118e4c85dde8d9fef15f22d">&#9670;&#160;</a></span>auth</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Blueprint views.auth = Blueprint('auth', __name__, url_prefix='/auth')</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blueprint for user readers' authentication. </p>
<p>This blueprint contains routes and functions related to user authentication, including login, registration, password hashing, and email verification. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
